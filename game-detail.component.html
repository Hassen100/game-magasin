<div class="detail-container" *ngIf="!loading">
  <div *ngIf="game">
    <!-- Hero Section -->
    <div class="hero-section">
      <div class="hero-image">
        <img [src]="game.image" [alt]="game.title" />
        <div class="hero-overlay"></div>
      </div>

      <div class="hero-content">
        <div class="back-link">
          <a routerLink="/catalogue">‚Üê Back to Catalogue</a>
        </div>

        <div class="game-header">
          <h1>{{ game.title }}</h1>
          <div class="header-meta">
            <span class="genre">{{ game.genre }}</span>
            <span class="publisher">By {{ game.publisher }}</span>
          </div>
        </div>

        <!-- Quick Stats -->
        <div class="quick-stats">
          <div class="stat">
            <div class="stat-label">Rating</div>
            <div class="stat-value" [style.color]="getRatingColor(game.rating)">
              {{ game.rating }}/10 ‚≠ê
            </div>
          </div>
          <div class="stat">
            <div class="stat-label">Price</div>
            <div class="stat-value">${{ game.price }}</div>
          </div>
          <div class="stat">
            <div class="stat-label">Popularity</div>
            <div class="stat-value">{{ game.popularity }}%</div>
          </div>
          <div class="stat">
            <div class="stat-label">Released</div>
            <div class="stat-value">{{ game.releaseDate | date : 'MMM yyyy' }}</div>
          </div>
        </div>

        <!-- Description -->
        <div class="description-section">
          <p>{{ game.description }}</p>
        </div>

        <!-- Call to Action -->
        <button class="buy-button">üõí Add to Cart - ${{ game.price }}</button>
      </div>
    </div>

    <!-- Main Content -->
    <div class="main-content">
      <!-- Game Information -->
      <section class="info-section">
        <h2>Game Information</h2>

        <div class="info-grid">
          <div class="info-item">
            <h3>Platforms</h3>
            <div class="platforms">
              <span *ngFor="let platform of game.platform.split(', ')" class="platform-badge">
                {{ platform }}
              </span>
            </div>
          </div>

          <div class="info-item">
            <h3>Genre</h3>
            <p>{{ game.genre }}</p>
          </div>

          <div class="info-item">
            <h3>Developer</h3>
            <p>{{ game.publisher }}</p>
          </div>

          <div class="info-item">
            <h3>Release Date</h3>
            <p>{{ game.releaseDate | date : 'MMMM d, yyyy' }}</p>
          </div>
        </div>

        <!-- Tags -->
        <div class="tags-section">
          <h3>Tags</h3>
          <div class="tags">
            <span *ngFor="let tag of game.tags" class="tag">{{ tag }}</span>
          </div>
        </div>
      </section>

      <!-- AI Recommendations Section -->
      <section class="recommendations-section" *ngIf="recommendations.length > 0">
        <h2>ü§ñ AI Recommendations for You</h2>
        <p class="section-subtitle">Based on your current selection, here are games you might love</p>

        <div class="recommendations-grid">
          <div *ngFor="let rec of recommendations" class="recommendation-card" [routerLink]="['/game', rec.gameId]">
            <div class="rec-game" *ngIf="getRecommendedGame(rec.gameId) as recGame">
              <div class="rec-image">
                <img [src]="recGame.image" [alt]="recGame.title" />
                <div class="rec-score" [style.backgroundColor]="getRatingColor(recGame.rating)">
                  {{ rec.score }}%
                </div>
              </div>

              <div class="rec-content">
                <h3>{{ recGame.title }}</h3>
                <p class="genre">{{ recGame.genre }}</p>
                <div class="reason">{{ rec.reason }}</div>
                <div class="rating">{{ recGame.rating }}/10 ‚≠ê</div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Related Games Section -->
      <section class="related-section" *ngIf="relatedGames.length > 0">
        <h2>üéØ Similar {{ game.genre }} Games</h2>

        <div class="related-games">
          <div *ngFor="let relatedGame of relatedGames" class="related-card" [routerLink]="['/game', relatedGame.id]">
            <div class="related-image">
              <img [src]="relatedGame.image" [alt]="relatedGame.title" />
              <div class="related-rating">{{ relatedGame.rating }}</div>
            </div>
            <div class="related-info">
              <h4>{{ relatedGame.title }}</h4>
              <p>${{ relatedGame.price }}</p>
            </div>
          </div>
        </div>
      </section>
    </div>
  </div>

  <!-- Game Not Found -->
  <div *ngIf="!game && !loading" class="not-found">
    <div class="not-found-icon">üéÆ</div>
    <h1>Game Not Found</h1>
    <p>Sorry, we couldn't find the game you're looking for.</p>
    <a routerLink="/catalogue" class="back-button">Go Back to Catalogue</a>
  </div>
</div>

<!-- Loading State -->
<div *ngIf="loading" class="loading-state">
  <div class="spinner"></div>
  <p>Loading game details...</p>
</div>
